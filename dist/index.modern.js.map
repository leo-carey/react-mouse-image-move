{"version":3,"file":"index.modern.js","sources":["../src/components/ChasingElement/index.tsx","../src/components/MouseContainer/index.tsx"],"sourcesContent":["import React from 'react'\nimport ChasingElementInterface from '../../interfaces/ChasingElementInterface'\n\nconst ChasingElement: React.FC<ChasingElementInterface> = ({ styles, ...props }) => {\n  return (\n    <div style={styles} {...props}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default ChasingElement\n","import React, { useState, useRef, useEffect } from 'react'\nimport ChasingElement from '../ChasingElement'\nimport ElementChildPropertiesInterface from '../../interfaces/ElementChildPropertiesInterface'\nimport MouseContainerInterface from '../../interfaces/MouseContainerInterface'\n\nconst MouseContainer: React.FC<MouseContainerInterface> = ({ chasingElement, styles, options, ...props }) => {\n  const wrapperElement = useRef(null)\n\n  const initElementChildProperties: ElementChildPropertiesInterface = {\n    width: 0,\n    height: 0,\n    left: 0,\n    top: 0,\n    transitionTimeout: null,\n    updateCall: 0\n  }\n\n  const defaultStyles = {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n\n  const [style, setStyle] = useState(chasingElement.props.styles)\n  const [elementChildProperties, setElementChildProperties] = useState(initElementChildProperties)\n\n  const defaultSettings = {\n    max: 30,\n    perspective: 1000,\n    easing: 'cubic-bezier(.03,.98,.52,.99)',\n    scale: 1.1,\n    speed: 1000,\n    axis: null,\n    reset: true\n  }\n\n  const settings = {\n    ...defaultSettings,\n    ...options\n  }\n\n  useEffect(() => {}, [])\n\n  useEffect(() => {\n    return () => {\n      elementChildProperties.transitionTimeout && clearTimeout(elementChildProperties.transitionTimeout)\n      cancelAnimationFrame(elementChildProperties.updateCall)\n    }\n  }, [elementChildProperties])\n\n  const updateChildPosition = (element: any) => {\n    const rect = element.currentTarget.getBoundingClientRect()\n\n    setElementChildProperties({\n      ...elementChildProperties,\n      width: element.currentTarget.offsetWidth,\n      height: element.currentTarget.offsetHeight,\n      left: rect.left,\n      top: rect.top\n    })\n  }\n\n  const setTransition = () => {\n    setStyle({\n      ...style,\n      transition: `${settings.speed}ms ${settings.easing}`\n    })\n  }\n\n  const getValues = (e: any) => {\n    const x = (e.nativeEvent.clientX - elementChildProperties.left) / elementChildProperties.width\n    const y = (e.nativeEvent.clientY - elementChildProperties.top) / elementChildProperties.height\n    const _x = Math.min(Math.max(x, 0), 1)\n    const _y = Math.min(Math.max(y, 0), 1)\n    const tiltX = (settings.max / 2 - _x * settings.max).toFixed(2)\n    const tiltY = (_y * settings.max - settings.max / 2).toFixed(2)\n    const percentageX = _x * 100\n    const percentageY = _y * 100\n\n    return {\n      tiltX,\n      tiltY,\n      percentageX,\n      percentageY\n    }\n  }\n\n  const update = (e: any) => {\n    const values = getValues(e)\n\n    setStyle({\n      ...style,\n      transform: `\n                perspective(${settings.perspective}px)\n                rotateX(${settings.axis === 'x' ? 0 : values.tiltY}deg)\n                rotateY(${settings.axis === 'y' ? 0 : values.tiltX}deg)\n                scale3d(${settings.scale}, ${settings.scale}, ${settings.scale})`\n    })\n\n    elementChildProperties.updateCall = null\n  }\n\n  const reset = () => {\n    window.requestAnimationFrame(() => {\n      setStyle({\n        ...style,\n        transform: `\n                    perspective(1000px)\n                    rotateX(0deg)\n                    rotateY(0deg)\n                    scale3d(1, 1, 1)\n                `\n      })\n    })\n  }\n\n  const handleMouseEnter = (e: any) => {\n    updateChildPosition(e)\n    setTransition()\n  }\n\n  const handleMouseMove = (e: any) => {\n    e.persist()\n\n    if (elementChildProperties.updateCall !== null) {\n      cancelAnimationFrame(elementChildProperties.updateCall)\n    }\n\n    elementChildProperties.updateCall = requestAnimationFrame(update.bind(wrapperElement, e))\n  }\n\n  const handleMouseLeave = () => {\n    setTransition()\n\n    if (settings.reset) {\n      reset()\n    }\n  }\n\n  return (\n    <div\n      ref={wrapperElement}\n      style={{\n        ...defaultStyles,\n        ...styles\n      }}\n      onMouseEnter={handleMouseEnter}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n      {...props}\n    >\n      <ChasingElement styles={style}>\n        {chasingElement}\n      </ChasingElement>\n    </div>\n  )\n}\n\nexport default MouseContainer\n"],"names":["ChasingElement","styles","props","React","style","children","MouseContainer","chasingElement","options","wrapperElement","useRef","initElementChildProperties","width","height","left","top","transitionTimeout","updateCall","defaultStyles","flex","display","alignItems","justifyContent","setStyle","useState","elementChildProperties","setElementChildProperties","defaultSettings","max","perspective","easing","scale","speed","axis","reset","settings","useEffect","clearTimeout","cancelAnimationFrame","updateChildPosition","element","rect","currentTarget","getBoundingClientRect","offsetWidth","offsetHeight","setTransition","transition","getValues","e","x","nativeEvent","clientX","y","clientY","_x","Math","min","_y","tiltX","toFixed","tiltY","percentageX","percentageY","update","values","transform","window","requestAnimationFrame","handleMouseEnter","handleMouseMove","persist","bind","handleMouseLeave","ref","onMouseEnter","onMouseMove","onMouseLeave"],"mappings":";;AAGA,MAAMA,cAAc,GAA8B,CAAC;AAAEC,EAAAA,MAAF;AAAU,KAAGC;AAAb,CAAD;AAChD,SACEC,mBAAA,MAAA;AAAKC,IAAAA,KAAK,EAAEH;KAAYC,MAAxB,EACGA,KAAK,CAACG,QADT,CADF;AAKD,CAND;;ACEA,MAAMC,cAAc,GAA8B,CAAC;AAAEC,EAAAA,cAAF;AAAkBN,EAAAA,MAAlB;AAA0BO,EAAAA,OAA1B;AAAmC,KAAGN;AAAtC,CAAD;AAChD,QAAMO,cAAc,GAAGC,MAAM,CAAC,IAAD,CAA7B;AAEA,QAAMC,0BAA0B,GAA4B;AAC1DC,IAAAA,KAAK,EAAE,CADmD;AAE1DC,IAAAA,MAAM,EAAE,CAFkD;AAG1DC,IAAAA,IAAI,EAAE,CAHoD;AAI1DC,IAAAA,GAAG,EAAE,CAJqD;AAK1DC,IAAAA,iBAAiB,EAAE,IALuC;AAM1DC,IAAAA,UAAU,EAAE;AAN8C,GAA5D;AASA,QAAMC,aAAa,GAAG;AACpBC,IAAAA,IAAI,EAAE,CADc;AAEpBC,IAAAA,OAAO,EAAE,MAFW;AAGpBC,IAAAA,UAAU,EAAE,QAHQ;AAIpBC,IAAAA,cAAc,EAAE;AAJI,GAAtB;AAOA,QAAM,CAAClB,KAAD,EAAQmB,QAAR,IAAoBC,QAAQ,CAACjB,cAAc,CAACL,KAAf,CAAqBD,MAAtB,CAAlC;AACA,QAAM,CAACwB,sBAAD,EAAyBC,yBAAzB,IAAsDF,QAAQ,CAACb,0BAAD,CAApE;AAEA,QAAMgB,eAAe,GAAG;AACtBC,IAAAA,GAAG,EAAE,EADiB;AAEtBC,IAAAA,WAAW,EAAE,IAFS;AAGtBC,IAAAA,MAAM,EAAE,+BAHc;AAItBC,IAAAA,KAAK,EAAE,GAJe;AAKtBC,IAAAA,KAAK,EAAE,IALe;AAMtBC,IAAAA,IAAI,EAAE,IANgB;AAOtBC,IAAAA,KAAK,EAAE;AAPe,GAAxB;AAUA,QAAMC,QAAQ,GAAG,EACf,GAAGR,eADY;AAEf,OAAGnB;AAFY,GAAjB;AAKA4B,EAAAA,SAAS,CAAC,QAAD,EAAW,EAAX,CAAT;AAEAA,EAAAA,SAAS,CAAC;AACR,WAAO;AACLX,MAAAA,sBAAsB,CAACT,iBAAvB,IAA4CqB,YAAY,CAACZ,sBAAsB,CAACT,iBAAxB,CAAxD;AACAsB,MAAAA,oBAAoB,CAACb,sBAAsB,CAACR,UAAxB,CAApB;AACD,KAHD;AAID,GALQ,EAKN,CAACQ,sBAAD,CALM,CAAT;;AAOA,QAAMc,mBAAmB,GAAIC,OAAD;AAC1B,UAAMC,IAAI,GAAGD,OAAO,CAACE,aAAR,CAAsBC,qBAAtB,EAAb;AAEAjB,IAAAA,yBAAyB,CAAC,EACxB,GAAGD,sBADqB;AAExBb,MAAAA,KAAK,EAAE4B,OAAO,CAACE,aAAR,CAAsBE,WAFL;AAGxB/B,MAAAA,MAAM,EAAE2B,OAAO,CAACE,aAAR,CAAsBG,YAHN;AAIxB/B,MAAAA,IAAI,EAAE2B,IAAI,CAAC3B,IAJa;AAKxBC,MAAAA,GAAG,EAAE0B,IAAI,CAAC1B;AALc,KAAD,CAAzB;AAOD,GAVD;;AAYA,QAAM+B,aAAa,GAAG;AACpBvB,IAAAA,QAAQ,CAAC,EACP,GAAGnB,KADI;AAEP2C,MAAAA,UAAU,KAAKZ,QAAQ,CAACH,WAAWG,QAAQ,CAACL;AAFrC,KAAD,CAAR;AAID,GALD;;AAOA,QAAMkB,SAAS,GAAIC,CAAD;AAChB,UAAMC,CAAC,GAAG,CAACD,CAAC,CAACE,WAAF,CAAcC,OAAd,GAAwB3B,sBAAsB,CAACX,IAAhD,IAAwDW,sBAAsB,CAACb,KAAzF;AACA,UAAMyC,CAAC,GAAG,CAACJ,CAAC,CAACE,WAAF,CAAcG,OAAd,GAAwB7B,sBAAsB,CAACV,GAAhD,IAAuDU,sBAAsB,CAACZ,MAAxF;;AACA,UAAM0C,EAAE,GAAGC,IAAI,CAACC,GAAL,CAASD,IAAI,CAAC5B,GAAL,CAASsB,CAAT,EAAY,CAAZ,CAAT,EAAyB,CAAzB,CAAX;;AACA,UAAMQ,EAAE,GAAGF,IAAI,CAACC,GAAL,CAASD,IAAI,CAAC5B,GAAL,CAASyB,CAAT,EAAY,CAAZ,CAAT,EAAyB,CAAzB,CAAX;;AACA,UAAMM,KAAK,GAAG,CAACxB,QAAQ,CAACP,GAAT,GAAe,CAAf,GAAmB2B,EAAE,GAAGpB,QAAQ,CAACP,GAAlC,EAAuCgC,OAAvC,CAA+C,CAA/C,CAAd;;AACA,UAAMC,KAAK,GAAG,CAACH,EAAE,GAAGvB,QAAQ,CAACP,GAAd,GAAoBO,QAAQ,CAACP,GAAT,GAAe,CAApC,EAAuCgC,OAAvC,CAA+C,CAA/C,CAAd;AACA,UAAME,WAAW,GAAGP,EAAE,GAAG,GAAzB;AACA,UAAMQ,WAAW,GAAGL,EAAE,GAAG,GAAzB;AAEA,WAAO;AACLC,MAAAA,KADK;AAELE,MAAAA,KAFK;AAGLC,MAAAA,WAHK;AAILC,MAAAA;AAJK,KAAP;AAMD,GAhBD;;AAkBA,QAAMC,MAAM,GAAIf,CAAD;AACb,UAAMgB,MAAM,GAAGjB,SAAS,CAACC,CAAD,CAAxB;AAEA1B,IAAAA,QAAQ,CAAC,EACP,GAAGnB,KADI;AAEP8D,MAAAA,SAAS;8BACe/B,QAAQ,CAACN;0BACbM,QAAQ,CAACF,IAAT,KAAkB,GAAlB,GAAwB,CAAxB,GAA4BgC,MAAM,CAACJ;0BACnC1B,QAAQ,CAACF,IAAT,KAAkB,GAAlB,GAAwB,CAAxB,GAA4BgC,MAAM,CAACN;0BACnCxB,QAAQ,CAACJ,UAAUI,QAAQ,CAACJ,UAAUI,QAAQ,CAACJ;AAN5D,KAAD,CAAR;AASAN,IAAAA,sBAAsB,CAACR,UAAvB,GAAoC,IAApC;AACD,GAbD;;AAeA,QAAMiB,KAAK,GAAG;AACZiC,IAAAA,MAAM,CAACC,qBAAP,CAA6B;AAC3B7C,MAAAA,QAAQ,CAAC,EACP,GAAGnB,KADI;AAEP8D,QAAAA,SAAS;;;;;;AAFF,OAAD,CAAR;AASD,KAVD;AAWD,GAZD;;AAcA,QAAMG,gBAAgB,GAAIpB,CAAD;AACvBV,IAAAA,mBAAmB,CAACU,CAAD,CAAnB;AACAH,IAAAA,aAAa;AACd,GAHD;;AAKA,QAAMwB,eAAe,GAAIrB,CAAD;AACtBA,IAAAA,CAAC,CAACsB,OAAF;;AAEA,QAAI9C,sBAAsB,CAACR,UAAvB,KAAsC,IAA1C,EAAgD;AAC9CqB,MAAAA,oBAAoB,CAACb,sBAAsB,CAACR,UAAxB,CAApB;AACD;;AAEDQ,IAAAA,sBAAsB,CAACR,UAAvB,GAAoCmD,qBAAqB,CAACJ,MAAM,CAACQ,IAAP,CAAY/D,cAAZ,EAA4BwC,CAA5B,CAAD,CAAzD;AACD,GARD;;AAUA,QAAMwB,gBAAgB,GAAG;AACvB3B,IAAAA,aAAa;;AAEb,QAAIX,QAAQ,CAACD,KAAb,EAAoB;AAClBA,MAAAA,KAAK;AACN;AACF,GAND;;AAQA,SACE/B,mBAAA,MAAA;AACEuE,IAAAA,GAAG,EAAEjE;AACLL,IAAAA,KAAK,EAAE,EACL,GAAGc,aADE;AAEL,SAAGjB;AAFE;AAIP0E,IAAAA,YAAY,EAAEN;AACdO,IAAAA,WAAW,EAAEN;AACbO,IAAAA,YAAY,EAAEJ;KACVvE,MATN,EAWEC,mBAAA,CAACH,cAAD;AAAgBC,IAAAA,MAAM,EAAEG;GAAxB,EACGG,cADH,CAXF,CADF;AAiBD,CAxJD;;;;"}