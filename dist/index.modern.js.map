{"version":3,"file":"index.modern.js","sources":["../src/components/ChasingElement/index.tsx","../src/helpers/effects-control.ts","../src/components/MouseContainer/index.tsx"],"sourcesContent":["import React from 'react'\r\nimport ChasingElementInterface from '../../interfaces/ChasingElementInterface'\r\n\r\nconst ChasingElement: React.FC<ChasingElementInterface> = ({ styles, ...props }) => {\r\n  return (\r\n    <div style={styles} {...props}>\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChasingElement\r\n","export const EffectsControl = {\n  perspective: (\n    settings: {\n          perspective: string;\n          axis: string;\n          scale: string;\n    },\n    values: {\n        tiltY: string;\n        tiltX: string;\n    }): string => (\n        `\n        perspective(${settings.perspective}px)\n        rotateX(${settings.axis === 'x' ? 0 : values.tiltY}deg)\n        rotateY(${settings.axis === 'y' ? 0 : values.tiltX}deg)\n        scale3d(${settings.scale}, ${settings.scale}, ${settings.scale})\n        `\n  ),\n  movement: (\n    settings: {\n          axis: string;\n          scale: string;\n    },\n    values: {\n        tiltY: string;\n        tiltX: string;\n    }): string => (\n        `\n        translateX(${settings.axis === 'x' ? 0 : (parseFloat(values.tiltY) * 2.5)}px)\n        translateY(${settings.axis === 'y' ? 0 : (parseFloat(values.tiltX) * 2.5)}px)\n        `\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\r\nimport ChasingElement from '../ChasingElement'\r\nimport ElementChildPropertiesInterface from '../../interfaces/ElementChildPropertiesInterface'\r\nimport MouseContainerInterface from '../../interfaces/MouseContainerInterface'\r\nimport { EffectsControl } from '../../helpers/effects-control'\r\n\r\nconst MouseContainer: React.FC<MouseContainerInterface> = ({ chasingElement, styles, options, ...props }) => {\r\n  const wrapperElement = useRef(null)\r\n\r\n  const initElementChildProperties: ElementChildPropertiesInterface = {\r\n    width: 0,\r\n    height: 0,\r\n    left: 0,\r\n    top: 0,\r\n    transitionTimeout: null,\r\n    updateCall: 0\r\n  }\r\n\r\n  const defaultStyles = {\r\n    flex: 1,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  }\r\n\r\n  const [style, setStyle] = useState(chasingElement.props.styles)\r\n  const [elementChildProperties, setElementChildProperties] = useState(initElementChildProperties)\r\n\r\n  const defaultSettings = {\r\n    max: 30,\r\n    effectType: 'perspective',\r\n    perspective: 1000,\r\n    easing: 'cubic-bezier(.03,.98,.52,.99)',\r\n    scale: 1.1,\r\n    speed: 1000,\r\n    axis: null,\r\n    reset: true\r\n  }\r\n\r\n  const settings = {\r\n    ...defaultSettings,\r\n    ...options\r\n  }\r\n\r\n  useEffect(() => {}, [])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      elementChildProperties.transitionTimeout && clearTimeout(elementChildProperties.transitionTimeout)\r\n      cancelAnimationFrame(elementChildProperties.updateCall)\r\n    }\r\n  }, [elementChildProperties])\r\n\r\n  const updateChildPosition = (element: any) => {\r\n    const rect = element.currentTarget.getBoundingClientRect()\r\n\r\n    setElementChildProperties({\r\n      ...elementChildProperties,\r\n      width: element.currentTarget.offsetWidth,\r\n      height: element.currentTarget.offsetHeight,\r\n      left: rect.left,\r\n      top: rect.top\r\n    })\r\n  }\r\n\r\n  const setTransition = () => {\r\n    setStyle({\r\n      ...style,\r\n      transition: `${settings.speed}ms ${settings.easing}`\r\n    })\r\n  }\r\n\r\n  const getValues = (e: any) => {\r\n    const x = (e.nativeEvent.clientX - elementChildProperties.left) / elementChildProperties.width\r\n    const y = (e.nativeEvent.clientY - elementChildProperties.top) / elementChildProperties.height\r\n    const _x = Math.min(Math.max(x, 0), 1)\r\n    const _y = Math.min(Math.max(y, 0), 1)\r\n    const tiltX = (settings.max / 2 - _x * settings.max).toFixed(2)\r\n    const tiltY = (_y * settings.max - settings.max / 2).toFixed(2)\r\n    const percentageX = _x * 100\r\n    const percentageY = _y * 100\r\n\r\n    return {\r\n      tiltX,\r\n      tiltY,\r\n      percentageX,\r\n      percentageY\r\n    }\r\n  }\r\n\r\n  const update = (e: any) => {\r\n    const values = getValues(e)\r\n\r\n    console.log('EFFECTS ====> ', EffectsControl[settings.effectType](settings, values))\r\n\r\n    setStyle({\r\n      ...style,\r\n      transform: EffectsControl[settings.effectType](settings, values)\r\n    })\r\n\r\n    elementChildProperties.updateCall = null\r\n  }\r\n\r\n  const reset = () => {\r\n    window.requestAnimationFrame(() => {\r\n      setStyle({\r\n        ...style,\r\n        transform: `\r\n                    perspective(1000px)\r\n                    rotateX(0deg)\r\n                    rotateY(0deg)\r\n                    scale3d(1, 1, 1)\r\n                `\r\n      })\r\n    })\r\n  }\r\n\r\n  const handleMouseEnter = (e: any) => {\r\n    updateChildPosition(e)\r\n    setTransition()\r\n  }\r\n\r\n  const handleMouseMove = (e: any) => {\r\n    e.persist()\r\n\r\n    if (elementChildProperties.updateCall !== null) {\r\n      cancelAnimationFrame(elementChildProperties.updateCall)\r\n    }\r\n\r\n    elementChildProperties.updateCall = requestAnimationFrame(update.bind(wrapperElement, e))\r\n  }\r\n\r\n  const handleMouseLeave = () => {\r\n    setTransition()\r\n\r\n    if (settings.reset) {\r\n      reset()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={wrapperElement}\r\n      style={{\r\n        ...defaultStyles,\r\n        ...styles\r\n      }}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseMove={handleMouseMove}\r\n      onMouseLeave={handleMouseLeave}\r\n      {...props}\r\n    >\r\n      <ChasingElement styles={style}>\r\n        {chasingElement}\r\n      </ChasingElement>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MouseContainer\r\n"],"names":["ChasingElement","styles","props","React","style","children","EffectsControl","perspective","settings","values","axis","tiltY","tiltX","scale","movement","parseFloat","MouseContainer","chasingElement","options","wrapperElement","useRef","initElementChildProperties","width","height","left","top","transitionTimeout","updateCall","defaultStyles","flex","display","alignItems","justifyContent","setStyle","useState","elementChildProperties","setElementChildProperties","defaultSettings","max","effectType","easing","speed","reset","useEffect","clearTimeout","cancelAnimationFrame","updateChildPosition","element","rect","currentTarget","getBoundingClientRect","offsetWidth","offsetHeight","setTransition","transition","getValues","e","x","nativeEvent","clientX","y","clientY","_x","Math","min","_y","toFixed","percentageX","percentageY","update","console","log","transform","window","requestAnimationFrame","handleMouseEnter","handleMouseMove","persist","bind","handleMouseLeave","ref","onMouseEnter","onMouseMove","onMouseLeave"],"mappings":"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"}