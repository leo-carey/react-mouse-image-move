{"version":3,"file":"index.modern.js","sources":["../src/components/ChasingElement/index.tsx","../src/helpers/effects-control.ts","../src/components/MouseContainer/index.tsx"],"sourcesContent":["import React from 'react'\nimport ChasingElementInterface from '../../interfaces/ChasingElementInterface'\n\nconst ChasingElement: React.FC<ChasingElementInterface> = ({ styles, ...props }) => {\n  return (\n    <div style={styles} {...props}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default ChasingElement\n","export const EffectsControl = {\n  perspective: (\n    settings: {\n          perspective: string;\n          axis: string;\n          scale: string;\n    },\n    values: {\n        tiltY: string;\n        tiltX: string;\n    }): string => (\n        `\n        perspective(${settings.perspective}px)\n        rotateX(${settings.axis === 'x' ? 0 : values.tiltY}deg)\n        rotateY(${settings.axis === 'y' ? 0 : values.tiltX}deg)\n        scale3d(${settings.scale}, ${settings.scale}, ${settings.scale})\n        `\n  ),\n  movement: (\n    settings: {\n          axis: string;\n          scale: string;\n    },\n    values: {\n        tiltY: string;\n        tiltX: string;\n    }): string => (\n        `\n        translateX(${settings.axis === 'x' ? 0 : (parseFloat(values.tiltY) * 2.8)}px)\n        translateY(${settings.axis === 'y' ? 0 : (parseFloat(values.tiltX) * 2.8)}px)\n        `\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport ChasingElement from '../ChasingElement'\nimport ElementChildPropertiesInterface from '../../interfaces/ElementChildPropertiesInterface'\nimport MouseContainerInterface from '../../interfaces/MouseContainerInterface'\nimport { EffectsControl } from '../../helpers/effects-control'\n\nconst MouseContainer: React.FC<MouseContainerInterface> = ({ chasingElement, styles, options, ...props }) => {\n  const wrapperElement = useRef(null)\n\n  const initElementChildProperties: ElementChildPropertiesInterface = {\n    width: 0,\n    height: 0,\n    left: 0,\n    top: 0,\n    transitionTimeout: null,\n    updateCall: 0\n  }\n\n  const defaultStyles = {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n\n  const [style, setStyle] = useState(chasingElement.props.styles)\n  const [elementChildProperties, setElementChildProperties] = useState(initElementChildProperties)\n\n  const defaultSettings = {\n    max: 30,\n    effectType: 'perspective',\n    perspective: 1000,\n    easing: 'cubic-bezier(.03,.98,.52,.99)',\n    scale: 1.1,\n    speed: 1000,\n    axis: null,\n    reset: true\n  }\n\n  const settings = {\n    ...defaultSettings,\n    ...options\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  useEffect(() => {}, [])\n\n  useEffect(() => {\n    return () => {\n      elementChildProperties.transitionTimeout && clearTimeout(elementChildProperties.transitionTimeout)\n      cancelAnimationFrame(elementChildProperties.updateCall)\n    }\n  }, [elementChildProperties])\n\n  const updateChildPosition = (element: any) => {\n    const rect = element.currentTarget.getBoundingClientRect()\n\n    setElementChildProperties({\n      ...elementChildProperties,\n      width: element.currentTarget.offsetWidth,\n      height: element.currentTarget.offsetHeight,\n      left: rect.left,\n      top: rect.top\n    })\n  }\n\n  const setTransition = () => {\n    setStyle({\n      ...style,\n      transition: `${settings.speed}ms ${settings.easing}`\n    })\n  }\n\n  const getValues = (e: any) => {\n    const x = (e.nativeEvent.clientX - elementChildProperties.left) / elementChildProperties.width\n    const y = (e.nativeEvent.clientY - elementChildProperties.top) / elementChildProperties.height\n    const _x = Math.min(Math.max(x, 0), 1)\n    const _y = Math.min(Math.max(y, 0), 1)\n    const tiltX = (settings.max / 2 - _x * settings.max).toFixed(2)\n    const tiltY = (_y * settings.max - settings.max / 2).toFixed(2)\n    const percentageX = _x * 100\n    const percentageY = _y * 100\n\n    return {\n      tiltX,\n      tiltY,\n      percentageX,\n      percentageY\n    }\n  }\n\n  const update = (e: any) => {\n    const values = getValues(e)\n\n    console.log('EFFECTS ====> ', EffectsControl[settings.effectType](settings, values))\n\n    setStyle({\n      ...style,\n      transform: EffectsControl[settings.effectType](settings, values)\n    })\n\n    elementChildProperties.updateCall = null\n  }\n\n  const reset = () => {\n    window.requestAnimationFrame(() => {\n      setStyle({\n        ...style,\n        transform: `\n                    perspective(1000px)\n                    rotateX(0deg)\n                    rotateY(0deg)\n                    scale3d(1, 1, 1)\n                `\n      })\n    })\n  }\n\n  const handleMouseEnter = (e: any) => {\n    updateChildPosition(e)\n    setTransition()\n  }\n\n  const handleMouseMove = (e: any) => {\n    e.persist()\n\n    if (elementChildProperties.updateCall !== null) {\n      cancelAnimationFrame(elementChildProperties.updateCall)\n    }\n\n    elementChildProperties.updateCall = requestAnimationFrame(update.bind(wrapperElement, e))\n  }\n\n  const handleMouseLeave = () => {\n    setTransition()\n\n    if (settings.reset) {\n      reset()\n    }\n  }\n\n  return (\n    <div\n      ref={wrapperElement}\n      style={{\n        ...defaultStyles,\n        ...styles\n      }}\n      onMouseEnter={handleMouseEnter}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n      {...props}\n    >\n      <ChasingElement styles={style}>\n        {chasingElement}\n      </ChasingElement>\n    </div>\n  )\n}\n\nexport default MouseContainer\n"],"names":["ChasingElement","styles","props","React","style","children","EffectsControl","perspective","settings","values","axis","tiltY","tiltX","scale","movement","parseFloat","MouseContainer","chasingElement","options","wrapperElement","useRef","initElementChildProperties","width","height","left","top","transitionTimeout","updateCall","defaultStyles","flex","display","alignItems","justifyContent","useState","setStyle","elementChildProperties","setElementChildProperties","defaultSettings","max","effectType","easing","speed","reset","useEffect","clearTimeout","cancelAnimationFrame","updateChildPosition","element","rect","currentTarget","getBoundingClientRect","offsetWidth","offsetHeight","setTransition","transition","getValues","e","x","nativeEvent","clientX","y","clientY","_x","Math","min","_y","toFixed","percentageX","percentageY","update","console","log","transform","window","requestAnimationFrame","handleMouseEnter","handleMouseMove","persist","bind","handleMouseLeave","ref","onMouseEnter","onMouseMove","onMouseLeave"],"mappings":"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"}