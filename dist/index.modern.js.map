{"version":3,"file":"index.modern.js","sources":["../src/components/ChasingElement/index.tsx","../src/components/MouseContainer/index.tsx"],"sourcesContent":["import React from 'react'\nimport ChasingElementInterface from '../../interfaces/ChasingElementInterface'\n\nconst ChasingElement: React.FC<ChasingElementInterface> = ({ styles, ...props }) => {\n  return (\n    <div style={styles} {...props}>\n      {props.children}\n    </div>\n  )\n}\n\nexport default ChasingElement\n","import React, { useState, useRef, useEffect } from 'react'\nimport ChasingElement from '../ChasingElement'\nimport ElementChildPropertiesInterface from '../../interfaces/ElementChildPropertiesInterface'\nimport MouseContainerInterface from '../../interfaces/MouseContainerInterface'\n\nconst MouseContainer: React.FC<MouseContainerInterface> = ({ chasingElement, styles, options, ...props }) => {\n  const wrapperElement = useRef(null)\n\n  const initElementChildProperties: ElementChildPropertiesInterface = {\n    width: 0,\n    height: 0,\n    left: 0,\n    top: 0,\n    transitionTimeout: null,\n    updateCall: 0\n  }\n\n  const defaultStyles = {\n    flex: 1,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n\n  const [style, setStyle] = useState(chasingElement.props.styles)\n  const [elementChildProperties, setElementChildProperties] = useState(initElementChildProperties)\n\n  const defaultSettings = {\n    max: 30,\n    perspective: 1000,\n    easing: 'cubic-bezier(.03,.98,.52,.99)',\n    scale: 1.1,\n    speed: 1000,\n    axis: null,\n    reset: true\n  }\n\n  const settings = {\n    ...defaultSettings,\n    ...options\n  }\n\n  useEffect(() => {}, [])\n\n  useEffect(() => {\n    return () => {\n      elementChildProperties.transitionTimeout && clearTimeout(elementChildProperties.transitionTimeout)\n      cancelAnimationFrame(elementChildProperties.updateCall)\n    }\n  }, [elementChildProperties])\n\n  const updateChildPosition = (element: any) => {\n    const rect = element.currentTarget.getBoundingClientRect()\n\n    setElementChildProperties({\n      ...elementChildProperties,\n      width: element.currentTarget.offsetWidth,\n      height: element.currentTarget.offsetHeight,\n      left: rect.left,\n      top: rect.top\n    })\n  }\n\n  const setTransition = () => {\n    setStyle({\n      ...style,\n      transition: `${settings.speed}ms ${settings.easing}`\n    })\n  }\n\n  const getValues = (e: any) => {\n    const x = (e.nativeEvent.clientX - elementChildProperties.left) / elementChildProperties.width\n    const y = (e.nativeEvent.clientY - elementChildProperties.top) / elementChildProperties.height\n    const _x = Math.min(Math.max(x, 0), 1)\n    const _y = Math.min(Math.max(y, 0), 1)\n    const tiltX = (settings.max / 2 - _x * settings.max).toFixed(2)\n    const tiltY = (_y * settings.max - settings.max / 2).toFixed(2)\n    const percentageX = _x * 100\n    const percentageY = _y * 100\n\n    return {\n      tiltX,\n      tiltY,\n      percentageX,\n      percentageY\n    }\n  }\n\n  const update = (e: any) => {\n    const values = getValues(e)\n\n    setStyle({\n      ...style,\n      transform: `\n                perspective(${settings.perspective}px)\n                rotateX(${settings.axis === 'x' ? 0 : values.tiltY}deg)\n                rotateY(${settings.axis === 'y' ? 0 : values.tiltX}deg)\n                scale3d(${settings.scale}, ${settings.scale}, ${settings.scale})`\n    })\n\n    elementChildProperties.updateCall = null\n  }\n\n  const reset = () => {\n    window.requestAnimationFrame(() => {\n      setStyle({\n        ...style,\n        transform: `\n                    perspective(1000px)\n                    rotateX(0deg)\n                    rotateY(0deg)\n                    scale3d(1, 1, 1)\n                `\n      })\n    })\n  }\n\n  const handleMouseEnter = (e: any) => {\n    updateChildPosition(e)\n    setTransition()\n  }\n\n  const handleMouseMove = (e: any) => {\n    e.persist()\n\n    if (elementChildProperties.updateCall !== null) {\n      cancelAnimationFrame(elementChildProperties.updateCall)\n    }\n\n    elementChildProperties.updateCall = requestAnimationFrame(update.bind(wrapperElement, e))\n  }\n\n  const handleMouseLeave = () => {\n    setTransition()\n\n    if (settings.reset) {\n      reset()\n    }\n  }\n\n  return (\n    <div\n      ref={wrapperElement}\n      style={{\n        ...defaultStyles,\n        ...styles\n      }}\n      onMouseEnter={handleMouseEnter}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n      {...props}\n    >\n      <ChasingElement styles={style}>\n        {chasingElement}\n      </ChasingElement>\n    </div>\n  )\n}\n\nexport default MouseContainer\n"],"names":["ChasingElement","styles","props","React","style","children","MouseContainer","chasingElement","options","wrapperElement","useRef","initElementChildProperties","width","height","left","top","transitionTimeout","updateCall","defaultStyles","flex","display","alignItems","justifyContent","useState","setStyle","elementChildProperties","setElementChildProperties","defaultSettings","max","perspective","easing","scale","speed","axis","reset","settings","useEffect","clearTimeout","cancelAnimationFrame","updateChildPosition","element","rect","currentTarget","getBoundingClientRect","offsetWidth","offsetHeight","setTransition","transition","getValues","e","x","nativeEvent","clientX","y","clientY","_x","Math","min","_y","tiltX","toFixed","tiltY","percentageX","percentageY","update","values","transform","window","requestAnimationFrame","handleMouseEnter","handleMouseMove","persist","bind","handleMouseLeave","ref","onMouseEnter","onMouseMove","onMouseLeave"],"mappings":"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"}